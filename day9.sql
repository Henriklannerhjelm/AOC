SELECT * INTO #hl_temp FROM (select 19 as nr union all select 30 union all select 13 union all select 31 union all select 42 union all select 41 union all select 44 union all select 34 union all select 39 union all select 6 union all select 47 union all select 50 union all select 36 union all select 33 union all select 32 union all select 15 union all select 43 union all select 8 union all select 26 union all select 24 union all select 48 union all select 5 union all select 3 union all select 10 union all select 1 union all select 20 union all select 4 union all select 7 union all select 9 union all select 22 union all select 11 union all select 12 union all select 16 union all select 13 union all select 14 union all select 17 union all select 6 union all select 28 union all select 57 union all select 18 union all select 19 union all select 15 union all select 21 union all select 8 union all select 23 union all select 24 union all select 25 union all select 5 union all select 26 union all select 10 union all select 27 union all select 20 union all select 29 union all select 30 union all select 33 union all select 22 union all select 43 union all select 78 union all select 31 union all select 32 union all select 41 union all select 11 union all select 13 union all select 16 union all select 56 union all select 28 union all select 37 union all select 40 union all select 15 union all select 35 union all select 18 union all select 38 union all select 21 union all select 23 union all select 24 union all select 70 union all select 34 union all select 26 union all select 45 union all select 27 union all select 102 union all select 29 union all select 33 union all select 36 union all select 108 union all select 31 union all select 32 union all select 39 union all select 41 union all select 42 union all select 46 union all select 78 union all select 50 union all select 56 union all select 44 union all select 47 union all select 48 union all select 152 union all select 104 union all select 84 union all select 64 union all select 68 union all select 53 union all select 58 union all select 136 union all select 60 union all select 61 union all select 67 union all select 106 union all select 71 union all select 63 union all select 73 union all select 80 union all select 88 union all select 108 union all select 90 union all select 97 union all select 114 union all select 148 union all select 143 union all select 118 union all select 198 union all select 133 union all select 111 union all select 121 union all select 117 union all select 113 union all select 161 union all select 124 union all select 123 union all select 131 union all select 256 union all select 130 union all select 134 union all select 136 union all select 222 union all select 153 union all select 185 union all select 178 union all select 233 union all select 203 union all select 208 union all select 232 union all select 234 union all select 245 union all select 224 union all select 237 union all select 228 union all select 274 union all select 244 union all select 230 union all select 236 union all select 276 union all select 267 union all select 253 union all select 398 union all select 264 union all select 266 union all select 356 union all select 289 union all select 397 union all select 661 union all select 436 union all select 381 union all select 411 union all select 440 union all select 609 union all select 452 union all select 458 union all select 525 union all select 889 union all select 496 union all select 464 union all select 666 union all select 466 union all select 565 union all select 500 union all select 517 union all select 520 union all select 519 union all select 530 union all select 553 union all select 702 union all select 686 union all select 893 union all select 792 union all select 894 union all select 957 union all select 1132 union all select 851 union all select 892 union all select 1453 union all select 982 union all select 1478 union all select 1409 union all select 985 union all select 930 union all select 964 union all select 1422 union all select 966 union all select 1017 union all select 1019 union all select 1036 union all select 1221 union all select 1818 union all select 1232 union all select 1239 union all select 2053 union all select 1537 union all select 1643 union all select 1684 union all select 1912 union all select 1743 union all select 1781 union all select 1815 union all select 1822 union all select 1894 union all select 2249 union all select 1947 union all select 3065 union all select 1896 union all select 1930 union all select 2036 union all select 2460 union all select 2779 union all select 2923 union all select 2471 union all select 4513 union all select 2453 union all select 2769 union all select 2882 union all select 3020 union all select 3590 union all select 3427 union all select 5018 union all select 3728 union all select 3524 union all select 3558 union all select 3596 union all select 4924 union all select 3966 union all select 4699 union all select 4720 union all select 8223 union all select 4918 union all select 11951 union all select 6043 union all select 4496 union all select 4913 union all select 5232 union all select 8147 union all select 5222 union all select 5335 union all select 8471 union all select 5651 union all select 8054 union all select 6447 union all select 6951 union all select 14918 union all select 7082 union all select 13398 union all select 10145 union all select 8462 union all select 7562 union all select 9414 union all select 8665 union all select 9195 union all select 9638 union all select 10150 union all select 9409 union all select 9718 union all select 9728 union all select 9831 union all select 10567 union all select 10454 union all select 10557 union all select 10873 union all select 10986 union all select 16033 union all select 12098 union all select 19142 union all select 17200 union all select 16024 union all select 17860 union all select 14644 union all select 18916 union all select 16227 union all select 16757 union all select 25864 union all select 18074 union all select 19549 union all select 18833 union all select 19047 union all select 19559 union all select 19127 union all select 20285 union all select 29483 union all select 21430 union all select 21011 union all select 28855 union all select 54719 union all select 36318 union all select 31647 union all select 31014 union all select 50789 union all select 51299 union all select 36987 union all select 30668 union all select 31401 union all select 35060 union all select 32984 union all select 34301 union all select 34831 union all select 36907 union all select 37121 union all select 37880 union all select 56713 union all select 38174 union all select 40989 union all select 81803 union all select 41296 union all select 42441 union all select 49866 union all select 69527 union all select 63048 union all select 61682 union all select 62415 union all select 62661 union all select 65499 union all select 62069 union all select 63652 union all select 65702 union all select 64385 union all select 67285 union all select 70105 union all select 78417 union all select 69132 union all select 71738 union all select 94593 union all select 75001 union all select 76054 union all select 100243 union all select 131793 union all select 83430 union all select 105681 union all select 83737 union all select 104123 union all select 111548 union all select 142286 union all select 128117 union all select 123751 union all select 142069 union all select 124730 union all select 125721 union all select 126454 union all select 130087 union all select 131670 union all select 195489 union all select 136417 union all select 139237 union all select 217287 union all select 170647 union all select 155168 union all select 151055 union all select 158431 union all select 260168 union all select 167167 union all select 211547 union all select 187553 union all select 187860 union all select 258124 union all select 234210 union all select 236278 union all select 248481 union all select 249472 union all select 303584 union all select 250451 union all select 285255 union all select 252175 union all select 286838 union all select 266504 union all select 268087 union all select 474698 union all select 294848 union all select 329078 union all select 306223 union all select 419342 union all select 318222 union all select 309486 union all select 378714 union all select 535706 union all select 354720 union all select 375413 union all select 421763 union all select 422070 union all select 470488 union all select 519465 union all select 484759 union all select 497953 union all select 551759 union all select 539013 union all select 516955 union all select 575990 union all select 534591 union all select 649568 union all select 954704 union all select 577573 union all select 601071 union all select 604334 union all select 615709 union all select 624445 union all select 733434 union all select 627708 union all select 664206 union all select 839479 union all select 976484 union all select 776483 union all select 797176 union all select 1090772 union all select 892558 union all select 1331767 union all select 1144663 union all select 982712 union all select 1014908 union all select 1215965 union all select 1404191 union all select 1334505 union all select 1110581 union all select 1380817 union all select 1178644 union all select 1181907 union all select 2346675 union all select 1803089 union all select 1220043 union all select 1573659 union all select 1252153 union all select 1291914 union all select 2583920 union all select 1615962 union all select 1887064 union all select 2192449 union all select 2350142 union all select 1689734 union all select 2947752 union all select 1875270 union all select 2159571 union all select 1997620 union all select 3303030 union all select 2125489 union all select 2289225 union all select 3291255 union all select 4594944 union all select 2292488 union all select 3127423 union all select 2360551 union all select 4233739 union all select 2825812 union all select 4045855 union all select 2511957 union all select 6522964 union all select 2544067 union all select 2907876 union all select 3305696 union all select 4669556 union all select 9825994 union all select 3565004 union all select 3687354 union all select 3815223 union all select 4290108 union all select 3872890 union all select 4123109 union all select 4649776 union all select 4414714 union all select 4417977 union all select 6635066 union all select 4653039 union all select 4872508 union all select 10450289 union all select 4904618 union all select 5056024 union all select 5337769 union all select 5369879 union all select 5451943 union all select 5419833 union all select 5849763 union all select 6109071 union all select 7197984 union all select 7178586 union all select 8621028 union all select 11301695 union all select 7252358 union all select 8525929 union all select 8995617 union all select 8777508 union all select 7995999 union all select 8537823 union all select 12070492 union all select 8832691 union all select 16617027 union all select 9525547 union all select 11831625 union all select 10324451 union all select 9960642 union all select 22726098 union all select 10393793 union all select 14447560 union all select 10789712 union all select 10871776 union all select 16502864 union all select 11958834 union all select 13361429 union all select 15873386 union all select 17576809 union all select 16521928 union all select 15248357 union all select 15778287 union all select 16533822 union all select 17315331 union all select 16773507 union all select 16828690 union all select 20664316 union all select 18358238 union all select 18793333 union all select 19486189 union all select 24772011 union all select 20285093 union all select 30609544 union all select 20354435 union all select 21183505 union all select 21265569 union all select 42568378 union all select 27563219 union all select 27207191 union all select 29883357 union all select 32021864 union all select 28609786 union all select 31026644 union all select 31770285 union all select 31782179 union all select 32077047 union all select 32312109 union all select 33307329 union all select 45955516 union all select 39771282 union all select 36314879 union all select 40058902 union all select 39147768 union all select 51508053 union all select 39840624 union all select 60413337 union all select 69775569 union all select 41537940 union all select 67757554 union all select 42449074 union all select 53577678 union all select 62195466 union all select 54770410 union all select 55816977 union all select 58493143 union all select 59636430 union all select 60380071 union all select 62796929 union all select 63552464 union all select 72135949 union all select 64389156 union all select 88077739 union all select 72455097 union all select 82270395 union all select 78763953 union all select 97640911 union all select 78988392 union all select 158054248 union all select 81378564 union all select 82289698 union all select 117966834 union all select 83987014 union all select 130554483 union all select 141906825 union all select 173003557 union all select 108348088 union all select 121290072 union all select 185718650 union all select 114310120 union all select 118129573 union all select 160213688 union all select 255273952 union all select 126349393 union all select 164560093 union all select 136525105 union all select 136844253 union all select 151219050 union all select 154744795 union all select 195688684 union all select 157752345 union all select 160366956 union all select 161278090 union all select 163668262 union all select 196599818 union all select 208639091 union all select 192335102 union all select 198297134 union all select 226477661 union all select 234697481 union all select 222658208 union all select 232439693 union all select 416552042 union all select 250835225 union all select 387360330 union all select 244478966 union all select 262874498 union all select 314887312 union all select 263193646 union all select 273369358 union all select 321645046 union all select 288063303 union all select 567771092 union all select 451731565 union all select 402231311 union all select 318119301 union all select 324035218 union all select 485851854 union all select 356003364 union all select 388934920 union all select 406936225 union all select 556342527 union all select 420955342 union all select 449135869 union all select 510721511 union all select 467137174 union all select 495314191 union all select 507353464 union all select 764023181 union all select 393911906 union all select 532542269 union all select 526068144 union all select 578080958 union all select 561432661 union all select 591488659 union all select 909584775 union all select 676998223 union all select 642154519 union all select 674122665 union all select 680038582 union all select 739074643 union all select 1036789655 union all select 912345891 union all select 805139233 union all select 814867248 union all select 919980050 union all select 1446048194 union all select 1404898966 union all select 1684003231 union all select 1355511840 union all select 1068786125 union all select 2760410806 union all select 1036066425 union all select 926454175 union all select 1070910129 union all select 1255079181 union all select 1087500805 union all select 2035550422 union all select 1727213139 union all select 2715589004 union all select 1316277184 union all select 1678220944 union all select 1322193101 union all select 1586468556 union all select 2657378685 union all select 1544213876 union all select 1620006481 union all select 1717485124 union all select 2106976554 union all select 1734847298 union all select 1962520600 union all select 2242731359 union all select 2385063309 union all select 3926734590 union all select 3697367898 union all select 2546460656 union all select 1997364304 union all select 2248647276 union all select 2013954980 union all select 2631714681 union all select 2707507286 union all select 2403777989 union all select 2866406977 union all select 3617370785 union all select 3559008543 union all select 2638470285 union all select 2908661657 union all select 3057040399 union all select 4601254275 union all select 3164220357 union all select 7176379328 union all select 3337491605 union all select 3976475580 union all select 3732211602 union all select 3748802278 union all select 3959884904 union all select 5406951716 union all select 4246011580 union all select 5556372847 union all select 4262602256 union all select 4011319284 union all select 4401142293 union all select 6643033965 union all select 4417732969 union all select 5035492670 union all select 5923447376 union all select 5042248274 union all select 6246153262 union all select 5547131942 union all select 11470579318 union all select 5695510684 union all select 5965702056 union all select 6221260756 union all select 7086293883 union all select 6501711962 union all select 7313967185 union all select 9298094926 union all select 8791050552 union all select 16612062111 union all select 9436634963 union all select 9516257751 union all select 8412461577 union all select 8257330864 union all select 8273921540 union all select 8429052253 union all select 14394754309 union all select 8818875262 union all select 9453225639 union all select 9459981243 union all select 10077740944 union all select 25910157037 union all select 10589380216 union all select 11242642626 union all select 11512833998 union all select 13815679147 union all select 11661212740 union all select 19935134280 union all select 16702973793 union all select 13588005845 union all select 15292762514 union all select 18351662484 union all select 21590574942 union all select 16531252404 union all select 17790179291 union all select 27788297447 union all select 24943713981 union all select 16686383117 union all select 17076206126 union all select 17727147179 union all select 35987897981 union all select 18272100901 union all select 18278856505 union all select 27804888123 union all select 25249218585 union all select 20667121160 union all select 27275763333 union all select 21832022842 union all select 22755476624 union all select 34882914888 union all select 28364186533 union all select 29933313641 union all select 46156550607 union all select 30290979638 union all select 31860106746 union all select 31824014918 union all select 33217635521 union all select 33607458530 union all select 34258399583 union all select 54266754486 union all select 33762589243 union all select 34958484018 union all select 44881094249 union all select 55639949866 union all select 40110879347 union all select 36550957406 union all select 38939222061 union all select 41034333129 union all select 61038352576 union all select 42499144002 union all select 43422597784 union all select 89149669374 union all select 68565942548 union all select 65254620626 union all select 84991973596 union all select 58297500174 union all select 60224293279 union all select 75069363365 union all select 62114994556 union all select 69216883601 union all select 97073478574 union all select 90817711892 union all select 70313546649 union all select 68721073261 union all select 101054216617 union all select 71509441424 union all select 95996836594 union all select 115180242712 union all select 75490179467 union all select 76661836753 union all select 77585290535 union all select 79973555190 union all select 112143671045 union all select 85921741786 union all select 101720097958 union all select 162328099200 union all select 118521793453 union all select 170791267082 union all select 120412494730 union all select 122339287835 union all select 127018573435 union all select 146975383402 union all select 137937956862 union all select 131331878157 union all select 139034619910 union all select 140230514685 union all select 173582127129 union all select 141822988073 union all select 169775289878 union all select 211177079306 union all select 146999620891 union all select 152152016220 union all select 154247127288 union all select 153075470002 union all select 239162244480 union all select 157558845725 union all select 307322597290 union all select 187641839744 union all select 204443535239 union all select 233051976115 union all select 238934288183 union all select 253671165992 union all select 259447114640 union all select 329464827817 union all select 284407348159 union all select 518499676596 union all select 270366498067 union all select 406634103244 union all select 509528742547 union all select 279265134595 union all select 293305984687 union all select 288822608964 union all select 327334135603 union all select 476464448708 union all select 299151637111 union all select 300075090893 union all select 305227486222 union all select 552753099327 union all select 310634315727 union all select 443605779719 union all select 390610821840 union all select 392085374983 union all select 509671021461 union all select 437495511354 union all select 526357960802 union all select 492605454175 union all select 513118280632 union all select 529813612707 union all select 569518135178 union all select 610709406620 union all select 575593984289 union all select 549631632662 union all select 568087743559 union all select 604379123333 union all select 671350509578 union all select 598533470909 union all select 587974246075 union all select 1026096081370 union all select 599226728004 union all select 791757091286 union all select 1079189156639 union all select 996464498316 union all select 754240095446 union all select 748129827081 union all select 782696196823 union all select 828106333194 union all select 829580886337 union all select 930100965529 union all select 987127144016 union all select 1105407596996 union all select 1022419066882 union all select 1111651751541 union all select 1079445245369 union all select 1137605878737 union all select 1117719376221 union all select 1166621214468 union all select 1148165103571 union all select 1370670442898 union all select 1186507716984 union all select 1187200974079 union all select 1584438744391 union all select 1342214341521 union all select 1347356555085 union all select 1353466823450 union all select 1545997186732 union all select 1502369922527 union all select 1530826023904 union all select 2300771408427 union all select 2243013475733 union all select 1610802530017 union all select 2495521658656 union all select 1816708030353 union all select 1917228109545 union all select 2009546210898 union all select 3827452220124 union all select 2160024945619 union all select 2581815167896 union all select 2648545400125 union all select 2255325254958 union all select 2518835546469 union all select 2314786318039 union all select 2334672820555 union all select 2373708691063 union all select 2528722058505 union all select 2529415315600 union all select 2689570896606 union all select 2700823378535 union all select 3319077952880 union all select 2899464010182 union all select 3911573938444 union all select 3033195946431 union all select 3347534054257 union all select 3427510560370 union all select 3528030639562 union all select 3620348740915 union all select 3733936139898 union all select 3926774320443 union all select 4077253055164 union all select 4169571156517 union all select 4415350200577 union all select 5015609696574 union all select 4570111572997 union all select 4833621864508 union all select 8481685511441 union all select 4649459138594 union all select 6261447140998 union all select 4708381511618 union all select 7733085874690 union all select 5932659956613 union all select 5218986212206 union all select 11171256408047 union all select 5600287388717 union all select 6427494649744 union all select 11810338929854 union all select 6380730000688 union all select 6460706506801 union all select 6775044614627 union all select 7161446700268 union all select 8496885893440 union all select 8567558004406 union all select 9723991208192 union all select 8004027375607 union all select 8246824211681 union all select 9064809339171 union all select 13315307375949 union all select 9219570711591 union all select 9278493084615 union all select 9357840650212 union all select 9927367723824 union all select 9868445350800 union all select 17925398654618 union all select 10308668900335 union all select 10819273600923 union all select 13155774615315 union all select 11599716212894 union all select 11981017389405 union all select 15021868826308 union all select 16381017411859 union all select 12841436507489 union all select 20819286924485 union all select 17466394923272 union all select 13936491314895 union all select 19002484292807 union all select 25536207527789 union all select 16250851587288 union all select 20032660108527 union all select 17068836714778 union all select 17311633550852 union all select 25136792004720 union all select 18498063796206 union all select 24245160215230 union all select 19285208374036 union all select 21338858039617 union all select 23975048216238 union all select 22418989813817 union all select 23660710108412 union all select 21127942501258 union all select 22800290990328 union all select 24755490828209 union all select 28668552927672 union all select 27002886215713 union all select 26777927822384 union all select 32631868999147 union all select 29092288094777 union all select 30187342902183 union all select 39869127705106 union all select 31005328029673 union all select 49124948203304 ) t
Alter Table #hl_temp Add Id Int Identity(1, 1)

--#1 393911906
SELECT nr FROM #hl_temp h1 
WHERE  NOT EXISTS (SELECT 1 FROM #hl_temp h2 INNER JOIN #hl_temp h3 on h3.id<h2.id WHERE h2.id<h1.id  AND h1.nr=(h2.nr+h3.nr)) AND h1.id>25 
ORDER BY h1.id
--59341885
--#2 
;WITH Commands AS
(
    SELECT id as n, id as pos,CAST(nr AS DECIMAL(18,0)) as summa,id as parent,nr as varde
	FROM #hl_temp h1 
    UNION ALL
	SELECT  n=n+1,id as pos,CAST(summa+nr AS DECIMAL(18,0)),parent,nr as varde
	FROM Commands INNER JOIN #hl_temp h1 on h1.id=pos+1 where  n+1 <= 1001 
)
SELECT TOP 1 min(h.nr)+max(h.nr) FROM Commands c INNER JOIN #hl_temp h on h.id>=parent and h.id<=pos 
WHERE c.summa=393911906 GROUP BY n OPTION (MAXRECURSION 1001)
